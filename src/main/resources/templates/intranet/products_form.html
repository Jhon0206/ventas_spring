<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{template :: head}"></head>
    <body>
        <nav th:replace="~{template :: menu-intranet}"></nav>
        <div class="container">
            <h1 th:text="#{menu.products}" style="text-transform:uppercase;">...</h1>
            <a class="btn btn-outline-secondary btn-sm" th:href="@{/product/list}">Regresar</a>
            <hr/>
            <form action="#" th:action="@{/product/save}"
                  th:object="${product}" method="post">
                <input type="hidden" th:field="*{id}" th:if="${product.id ne null}"/>  
                <div class="my-2">
                    <label class="form-label">Nombre</label>
                    <input type="text" th:field="*{nombre}" class="form-control" />
                    <p class="alert alert-warning mt-2" 
                       th:if="${#fields.hasErrors('nombre')}" 
                       th:errors="*{nombre}"></p>
                </div>
                <div class="my-2">
                    <label class="form-label">Descripcion</label>
                    <textarea th:field="*{descripcion}" class="form-control"></textarea>
                    <p class="alert alert-warning mt-2" 
                       th:if="${#fields.hasErrors('descripcion')}" 
                       th:errors="*{descripcion}"></p>
                </div>
                <div class="my-2">
                    <label class="form-label">Cantidad</label>
                    <input type="number" th:field="*{cantidad}" class="form-control" />
                    <p class="alert alert-warning mt-2" 
                       th:if="${#fields.hasErrors('cantidad')}" 
                       th:errors="*{cantidad}"></p>
                </div>
                <div class="my-2">
                    <label class="form-label">Precio</label>
                    <input type="number" th:field="*{precio}" step="0.01" class="form-control" />
                    <p class="alert alert-warning mt-2" 
                       th:if="${#fields.hasErrors('precio')}" 
                       th:errors="*{precio}"></p>
                </div>
                <div class="my-2">
                    <label class="form-label">Categoria</label>
                    <select th:field="*{categoria}" class="form-control">
                        <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.nombre}">
                        </option>
                    </select>
                </div>
                <p class="text-center mt-3">
                    <button type="submit" class="btn btn-success mx-3">Agregar</button>
                </p>
            </form>
        </div>
        <footer th:replace="~{template :: footer}"></footer>        
        <script th:replace="~{template :: #bootstrap}"></script> 
    </body>
</html>
